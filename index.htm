<!DOCTYPE html>

<html>

    <head>

<!--Script and Style References-->
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title>Essential UK Hotel Reservations 01189 714 700</title>
        <link href="./bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" >
        <link href="./bower_components/bootstrap/dist/css/bootstrap-theme.css" rel="stylesheet" >
        <link href="./css/main.css" rel="stylesheet" >
        <script src="./bower_components/jquery/dist/jquery.min.js"></script>
        <script src="./bower_components/angular/angular.min.js"></script>
        <script src="./bower_components/angular-masonry/angular-masonry.js"></script>
        <script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="./bower_components/bootstrap/js/button.js"></script>
        <script src="./bower_components/ngInfiniteScroll/build/ng-infinite-scroll.min.js"></script>
        <script src="./bower_components/angular-typeahead/angular-typeahead.js"></script>
        <script src="./bower_components/angular-pageslide/angular-pageslide-directive.js"></script>
        <script src="./bower_components/angular-side-menu/angular-slide-menu.js"></script>

<!--Search Box Script-->
        <script>
            $(window).load(function(){
                var search = new Bloodhound({
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            prefetch:{ url:  "/index.json"}
            });

                search.initialize();

                $('.essential .typeahead').typeahead(null, {
                   name: 'search',
                   displayKey: 'value',
                   source: search.ttAdapter(),
                   templates: {
                   empty: [
                   '<div class="empty-message">',
                   'Can\'t Find Want Your Looking For? <br /> We\'d Love to Help Please <br /> Call <a href="tel:01189714700">0118 971 4700</a>, or <a href="mailto:nick@essential-hotels.com"> Email </a>',
                   '</div>'
              ].join('\n'),
              suggestion: Handlebars.compile('<p class="{{type}}">{{value}}</p>')
              }
              }).bind("typeahead:selected", function(obj, datum, name) {
              if (datum.url) {
                $(location).attr('href', datum.url);
              }
              }).bind("typeahead:cursorchanged", function(obj, datum, name) {
                console.log(obj, datum, name);
                if (datum.url) {
                  /* $(location).attr('href', datum.url); */
                }
                });
            });
        </script>

<!--Data in the Grid-->
        <script type='text/javascript'>//<![CDATA[
            window.onload=function(){

              $('.grid').find('img').each(function() {
                  var imgClass = (this.width / this.height > 1) ? 'wide' : 'tall';
                  $(this).addClass(imgClass);
              })
              $('.btn').button();

            angular.module('app', ['siyfion.sfTypeahead', 'wu.masonry', 'infinite-scroll'])
            .controller('MainCtrl', function ($scope, $http) {

              if  ($scope.items == undefined) { $scope.items = [] }

              $http.get('/index.json').success(function (thisdata) {
                $scope.allitems  =  thisdata;
                for (i = 0; i <= 140; i++) {
                  $scope.items.push( $scope.allitems.shift() );
                }
              });
              $scope.loadMore = function() {
                for(var i = 1; i <= 40; i++) {
                  $scope.items.push( $scope.allitems.shift() );
                }
              };
            });

            angular.bootstrap(document.body, ['app']);
            }//]]>

        </script>

<!--Page Slide Script-->
        <script>
            var app = angular.module("app", ["pageslide-directive"]);
        </script>

<!--Page Top Push-->
        <script>
            angular.module('sampleApp', ['slideMenu']);
        </script>

    </head>

    <body>

<!--Top Push Down Menu
        <section id="wrapper" class="wrapper" data-asm-wrapper>
            <section id="buttons">
                <div data-asm-control="pushTop">Push Top</div>
            </section>
        </section>

        <nav data-asm-push-top>
            <ul>
                <li>Contact Us</li>
                <li>Email Us</li>
            </ul>
        </nav>

<!--Side Menu-->
        <section id="main_content" class="inner" ng-app="app">

            <button type="button" class="btn btn-default btn-lg pull-left" id="menu-button" pageslide="left"  ps-speed="0.5" href="#menu">
                Menu
            </button>

            <div style="padding:20px" id="menu">

                <div id="close-button">
                    <button type="button" class="btn btn-default btn-lg pull-right" id="menu-close" href="#">
                        Close
                    </button>
                </div>

                <div id="menu-list">
                    <h2>Essential Hotels</h2>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Conferences</a></li>
                    </ul>
                </div>

            </div>

        </section>

<!--Jumbotron-->
        <section id="main" class="jumbotron">

            <div class="container">
<!--
              <a href="/" title="Essential Hotels Reservations">
                <img src="https://essentialhotels.co.uk/wp-content/uploads/2014/08/Lowry-Hotel-Uncut-Version-2.jpg" alt="Essential Hotels 01189714700 ">
              </a>
-->

              <div id="WhiteBox">
                  <div id="MiddleTitle">

                      <a href="/" title="Essential Hotels Reservations">
                          <img src="https://essentialhotels.co.uk/wp-content/uploads/2013/11/EH-Logo-bed-white-with-black-bold.png" alt="Essential Hotels 01189714700 ">
                      </a>

                      <div id="TitleAboveSearch" style="font-size:20px; font-family: Roboto, 'Helvetica Neue', Helvetica, Arial, sans-serif, font-weight:300, padding-top;20px ;">
                          Search for Hotels, Destinations &amp; Attractions
                      </div>
                  </div>

                  <div class="essential">
                    <input class="typeahead tt-input" type="text" placeholder="Hotel, City, Area or Interest" autocomplete="off" spellcheck="false" dir="auto"/>
                  </div>

                    <div id="TextUnderSearch">
                            0118 971 4700
                    </div>
                </div>

            </div>

        </section>

<!--Grid of Content-->
        <section class="container">

            <div class="row">
              <div class="col-centered center-block col-md-12">

                  <ul class="nav nav-pills nav-justified">
                      <li class="active"><a ng-click="typeFilter = 'attractions'"> Attractions</a></li>
                      <li><a ng-click="typeFilter = 'destinations'"> Destinations</a></li>
                      <li><a ng-click="typeFilter = 'hotels'"> Hotels</a></li>
                      <li><a ng-click="typeFilter = ''"> All</a></li>
                  </ul>


                </div>
              </div>
            </div>

            <div ng-controller="MainCtrl" class="col-centered center-block" >
              <ul class="grid" masonry infinite-scroll='loadMore()' infinite-scroll-distance='1' >
                <li ng-repeat="item in items | filter: { type: typeFilter }" class='{{item.type}}' >
                    <div>
                        <a href="{{item.url}}" >
                            <span class="title"> {{item.value}} </span>
                                <img src="{{item.image}}" />
                        </a>
                    </div>
                </li>
              </ul>
            </div>

        </section>

<!--Footer-->
        <footer> footer </footer>

    </body>

</html>



